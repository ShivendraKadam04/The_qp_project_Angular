<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body style="display: flex;justify-content: center;align-items: center;">
  <form class="form" [formGroup]="forgotForm">

  <div style="cursor: pointer; margin-bottom: 10px;">
    <svg routerLink="/profile" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M19 12H5"></path>
      <path d="M12 19l-7-7 7-7"></path>
    </svg>
  </div>

  <div class="sendOtpDiv" *ngIf="isSendOtpVisible">
    <h2 style="font-weight: 700; font-size: 22px; color: #e74c3c;">Delete Account</h2>
    <p style="color: #e74c3c; margin: 8px 0 20px 0;">
      This will permanently delete your account and all associated data.
    </p>
   
    <div>
      <div class="flex-column"><label>Email</label></div>
      <div class="inputForm">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="2" y="4" width="20" height="16" rx="2" ry="2"></rect>
          <path d="M22 6L12 13L2 6"></path>
        </svg>
        <input formControlName="email" placeholder="Enter your Email" class="input" type="text">
      </div>
      <div class="error" *ngIf="submitted && f['email'].errors">
        <span *ngIf="f['email'].errors['required']">Email is required</span>
        <span *ngIf="f['email'].errors['email']">Invalid email format</span>
      </div>
    </div>
   
    <button (click)="onSubmit()" [disabled]="loading" class="button-submit" style="background-color: #e74c3c;">
      {{ loading ? 'Sending...' : 'Send OTP' }}
    </button>
  </div>

  <div class="verifyOtp" *ngIf="isVerifyOtpVisible">
    <h2 style="font-weight: 700; font-size: 22px; color: #e74c3c;">Verify OTP</h2>
    <p style="margin-bottom: 20px;">Enter the 6-digit code sent to your email</p>

    <div class="otpContainer">
      <input class="otpInput" type="text" maxlength="1" #otp0 (input)="moveToNext($event, otp1)" autofocus>
      <input class="otpInput" type="text" maxlength="1" #otp1 (input)="moveToNext($event, otp2)">
      <input class="otpInput" type="text" maxlength="1" #otp2 (input)="moveToNext($event, otp3)">
      <input class="otpInput" type="text" maxlength="1" #otp3 (input)="moveToNext($event, otp4)">
      <input class="otpInput" type="text" maxlength="1" #otp4 (input)="moveToNext($event, otp5)">
      <input class="otpInput" type="text" maxlength="1" #otp5>
    </div>

    <button (click)="onSubmitOtp([otp0.value, otp1.value, otp2.value, otp3.value, otp4.value, otp5.value])" [disabled]="loading" class="button-submit" style="background-color: #e74c3c;">
      {{ loading ? 'Verifying...' : 'Verify & Delete Account' }}
    </button>
  </div>

</form>
</body>
</html>