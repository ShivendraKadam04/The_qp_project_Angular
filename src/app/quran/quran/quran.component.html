<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
    <nz-layout>
    <nz-header style="display: flex; justify-content: space-between; background-color: #14161b; height: 70px;">
      <div routerLink="dashboard" class="logo" style="display: flex;gap: 30px;">
        <img src="assets/images/White Logo.png" alt="">
         <div class="largeScreenSearch" >
          <nz-input-group [nzSuffix]="suffixIconSearch" style="background-color: transparent; color: white; height: 40px; border-radius: 50px;width: 250px;">
            <input style="background-color: transparent; color: white; border-radius: 50px;"
              nz-input
              placeholder="Search Surah, Verse, or Text..."
              [(ngModel)]="searchQuery"
              (ngModelChange)="onSearchChange($event)"
              [nzAutocomplete]="autoComplete"
            />
            <nz-autocomplete #autoComplete>
              <nz-auto-option
                *ngFor="let suggestion of searchSuggestions"
                [nzValue]="suggestion.text"
                (click)="selectSuggestion(suggestion)"
              >
                {{ suggestion.text }}
              </nz-auto-option>
            </nz-autocomplete>
          </nz-input-group>
          <ng-template #suffixIconSearch>
            <nz-icon nzType="search" />
          </ng-template>
        </div>
        <!-- <img src="https://res.cloudinary.com/dpo0l887m/image/upload/v1741927962/jwdrqiontemuriteejgr.png" alt="The Quran Project Logo"> -->
      </div>

      <!-- Search Input -->
    

      <div style="display: flex; align-items: center; gap: 50px; justify-content: space-between;">
       
        <!-- Existing Menu (menulargeScreen, menuMobile, largeScreenProfile) -->
        <div class="menulargeScreen">
          <ul style="display: flex; list-style-type: none; gap: 28px; font-size: 16px; margin: 0;" nzMode="horizontal">
            <li routerLink="dashboard" routerLinkActive="active" #rla="routerLinkActive" class="hover-underline-animation nav-item">
              <img [src]="rla.isActive ? 'assets/icons/homeactive.svg' : 'assets/icons/homenonactive.svg'" style="margin-right: 5px; height: 14px;" alt="">
              Home
            </li>
            <li routerLink="chapters" routerLinkActive="active" #rla2="routerLinkActive" class="hover-underline-animation nav-item">
              <img [src]="rla2.isActive ? 'assets/icons/chaptersactive.svg' : 'assets/icons/chaptersnonactive.svg'" style="margin-right: 5px; height: 14px;" alt="">
              Surahs
            </li>
            <li routerLink="aboutus" routerLinkActive="active" #rla4="routerLinkActive" class="hover-underline-animation nav-item">
              <img [src]="rla4.isActive ? 'assets/icons/aboutus-active.svg' : 'assets/icons/aboutus.svg'" style="margin-right: 5px; height: 22px;" alt="">
              About us
            </li>
            <div *ngIf="userRole !== 'guestuser' && userRole != null">
                <li routerLink="collection"  routerLinkActive="active" #rla3="routerLinkActive" class="hover-underline-animation nav-item">
              <img [src]="rla3.isActive ? 'assets/icons/saved-active.svg' : 'assets/icons/saved.svg'" style="margin-right: 5px; height: 14px;" alt="">
              Saved
            </li>
            </div>

            <!-- NEW: More Dropdown (after Saved) -->
          <li nz-dropdown [nzDropdownMenu]="moreMenu" nzTrigger="hover" class="hover-underline-animation nav-item" style="cursor: pointer;">
            <nz-icon nzType="appstore" nzTheme="fill" style="margin-right: 5px;" />
            More
            <span nz-icon nzType="down" style="font-size: 12px; margin-left: 4px;"></span>
          </li>

          <nz-dropdown-menu #moreMenu="nzDropdownMenu">
            <ul nz-menu>
              <li nz-menu-item>
  <a href="https://www.quranproject.org/The-Quran-Project-1-p" target="_blank" rel="noopener noreferrer"
     style=" color: inherit; text-decoration: none;">
    <span nz-icon nzType="book" nzTheme="outline"></span>
     Order Free Copy
  </a>
</li>
              <li nz-menu-item >
                 <a href="https://www.quranproject.org/donations" target="_blank" rel="noopener noreferrer"
     style=" color: inherit; text-decoration: none;">
                <span nz-icon nzType="heart" nzTheme="outline"></span>
                Make a Donation
                 </a>
              </li>
              <li nz-menu-item >
                <a href="https://www.quranproject.org/go_files/pdf/Online-Version-9th-Edition.pdf" target="_blank" rel="noopener noreferrer"
     style=" color: inherit; text-decoration: none;">
                <span nz-icon nzType="download" nzTheme="outline"></span>
                Download PDF
                  </a>
              </li>
              <li nz-menu-item >
                 <a href="https://www.quranproject.org/feedback" target="_blank" rel="noopener noreferrer"
     style=" color: inherit; text-decoration: none;">
                <span nz-icon nzType="message" nzTheme="outline"></span>
                Feedback
                 </a>
              </li>
              
            </ul>
          </nz-dropdown-menu>
          
          </ul>
        </div>

        <div class="menuMobile">
           <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu3">
            <nz-icon nzType="appstore" style="color: #E0BC5E;margin-right:15px;" nzTheme="outline" />
          </a>
          <nz-dropdown-menu #menu3="nzDropdownMenu">
             <ul nz-menu>
              <li nz-menu-item>
  <a href="https://www.quranproject.org/The-Quran-Project-1-p" target="_blank" rel="noopener noreferrer"
     style=" color: inherit; text-decoration: none;">
    <span nz-icon nzType="book" nzTheme="outline"></span>
     Order Free Copy
  </a>
</li>
              <li nz-menu-item >
                 <a href="https://www.quranproject.org/donations" target="_blank" rel="noopener noreferrer"
     style=" color: inherit; text-decoration: none;">
                <span nz-icon nzType="heart" nzTheme="outline"></span>
                Make a Donation
                 </a>
              </li>
              <li nz-menu-item >
                <a href="https://www.quranproject.org/go_files/pdf/Online-Version-9th-Edition.pdf" target="_blank" rel="noopener noreferrer"
     style=" color: inherit; text-decoration: none;">
                <span nz-icon nzType="download" nzTheme="outline"></span>
                Download PDF
                  </a>
              </li>
              <li nz-menu-item >
                 <a href="https://www.quranproject.org/feedback" target="_blank" rel="noopener noreferrer"
     style=" color: inherit; text-decoration: none;">
                <span nz-icon nzType="message" nzTheme="outline"></span>
                Feedback
                 </a>
              </li>
              
            </ul>
          </nz-dropdown-menu>
          <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu2">
            <nz-icon nzType="menu" style="color: #E0BC5E;" nzTheme="outline" />
          </a>
          <nz-dropdown-menu #menu2="nzDropdownMenu">
            <ul nz-menu nzSelectable>
              <li routerLink="dashboard" nz-menu-item>
                <nz-icon nzType="home" nzTheme="outline" />
                <span style="padding-left: 10px;">Home</span>
              </li>
              <li routerLink="chapters" nz-menu-item>
                <nz-icon nzType="book" nzTheme="outline" />
                <span style="padding-left: 10px;">Surahs</span>
              </li>
               <li routerLink="aboutus" nz-menu-item>
                <nz-icon nzType="bars" nzTheme="outline" />
                <span style="padding-left: 10px;">About us</span>
              </li>
              <li nz-menu-item routerLink="profile" *ngIf="userRole !== 'guestuser' && userRole != null">
                <span nz-icon nzType="user" nzTheme="outline"></span>
                <span style="padding-left: 10px;">Profile</span>
              </li>
              <div *ngIf="userRole !== 'guestuser' && userRole != null">
 <li nz-menu-item routerLink="collection" >
                <span nz-icon nzType="user" nzTheme="outline"></span>
                <span style="padding-left: 10px;">Saved</span>
              </li>
              </div>
                <li nz-menu-item (click)="logout()" *ngIf="userRole === null">
                <span nz-icon nzType="login" nzTheme="outline"></span>
                <span style="padding-left: 10px">Login</span>
              </li>
             
              <li nz-menu-item (click)="logout()" *ngIf="userRole != null">
                <span nz-icon nzType="logout" nzTheme="outline"></span>
                <span style="padding-left: 10px">Logout</span>
              </li>
            </ul>
          </nz-dropdown-menu>
        </div>

        <div class="largeScreenProfile">
          <div style="display: flex; gap: 5px;">
            <div style="display: flex; align-items: center;">
              <span style="border-radius: 50%; background-color: #f2f2f2;">
                <div style="display: flex; align-items: center;" class="avatar-placeholder" *ngIf="userdata?.profilePhoto; else placeholder">
                  <img [src]="file" style="object-fit: cover; width: 55px; height: 55px; border-radius: 50%;">
                </div>
                <ng-template #placeholder>
                  <div style="border-radius: 50%; background-color: #f2f2f2; height: 50px; display: flex; align-items: center; width: 50px; justify-content: center; font-size: 16px;">
                  <strong>
  {{ userRole === 'guestuser' || userRole == null ? 'GS' : (firstName?.charAt(0).toUpperCase() + lastName?.charAt(0).toUpperCase()) }}
</strong>
                  </div>
                </ng-template>
              </span>
            </div>
            <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu" style="font-size: 16px">
              {{ 
    userRole == null 
      ? 'Profile' 
      : (Username || firstName || 'Profile') 
  }}
              <span nz-icon nzType="down"></span>
            </a>
            <nz-dropdown-menu #menu="nzDropdownMenu">
              <ul nz-menu style="display: flex; flex-direction: column">
                <li nz-menu-item routerLink="profile" *ngIf="userRole !== 'guestuser' && userRole != null">
                  <span nz-icon nzType="user" nzTheme="outline"></span>
                  <span style="padding-left: 10px;">Profile</span>
                </li>
                 <li nz-menu-item (click)="logout()" *ngIf="userRole === null">
                <span nz-icon nzType="login" nzTheme="outline"></span>
                <span style="padding-left: 10px">Login</span>
              </li>
                <li nz-menu-item (click)="logout()" *ngIf="userRole != null">
                  <span nz-icon nzType="logout" nzTheme="outline"></span>
                  <span style="padding-left: 10px">Logout</span>
                </li>
              </ul>
            </nz-dropdown-menu>
          </div>
        </div>
      </div>
    </nz-header>
    <!-- Sub-header for Search on Mobile -->
     <nz-header class="sub-header">
    <div  >
      <div style="display: flex; align-items: center; width: 100%;">
        <nz-input-group [nzSuffix]="suffixIconSearchMobile" style="background-color: transparent; color: white; height: 45px; border-radius: 50px;">
          <input style="background-color: transparent; color: white; border-radius: 50px;"
            nz-input
            placeholder="Search Surah, Verse, or Text..."
            [(ngModel)]="searchQuery"
            (ngModelChange)="onSearchChange($event)"
            [nzAutocomplete]="autoCompleteMobile"
          />
          <nz-autocomplete #autoCompleteMobile>
            <nz-auto-option
              *ngFor="let suggestion of searchSuggestions"
              [nzValue]="suggestion.text"
              (click)="selectSuggestion(suggestion)"
            >
              {{ suggestion.text }}
            </nz-auto-option>
          </nz-autocomplete>
        </nz-input-group>
        <ng-template #suffixIconSearchMobile>
          <nz-icon nzType="search" />
        </ng-template>
      </div>
    </div>
    </nz-header>
    <nz-content >
      <div class="inner-content">
        <router-outlet></router-outlet>
      </div>
    </nz-content>
  </nz-layout>
</body>
</html>